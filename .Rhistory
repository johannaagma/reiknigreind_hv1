shiny::runApp('hv1')
library("RCurl", lib.loc="~/R/win-library/3.2")
library("RJSONIO", lib.loc="~/R/win-library/3.2")
library("shiny", lib.loc="~/R/win-library/3.2")
library("googleVis", lib.loc="~/R/win-library/3.2")
library("data.table", lib.loc="~/R/win-library/3.2")
shiny::runApp('hv1')
library("pxweb", lib.loc="~/R/win-library/3.2")
shiny::runApp('hv1')
shiny::runApp('hv1')
View(faeding)
View(faeding)
View(tekjur_kvk)
View(tekjur_kvk)
View(total)
View(total)
shiny::runApp('hv1')
shiny::runApp('hv1')
library(googleVis)
smaprufa <- read.csv('litidtest.csv', sep=";")
Motion=gvisMotionChart(smaprufa,
idvar="Hopur",
timevar="Date",
sizevar="eignir",
options=c(showSidePanel=FALSE))
plot(Motion)
source('~/GitHub/reiknigreind_hv1/hv1/motionChartVirkar.R')
source('~/GitHub/reiknigreind_hv1/hv1/motionChartVirkar.R')
source('~/GitHub/reiknigreind_hv1/hv1/motionChartVirkar.R')
source('~/GitHub/reiknigreind_hv1/hv1/motionChartVirkar.R')
source('~/GitHub/reiknigreind_hv1/hv1/motionChartVirkar.R')
source('~/GitHub/reiknigreind_hv1/hv1/motionChartVirkar.R')
shiny::runApp('hv1')
shiny::runApp('hv1')
source('~/GitHub/reiknigreind_hv1/hv1/motionChartVirkar.R')
source('~/GitHub/reiknigreind_hv1/hv1/motionChartVirkar.R')
shiny::runApp('hv1')
source('~/GitHub/reiknigreind_hv1/hv1/motionChartVirkar.R')
library(shiny)
library(googleVis)
library(data.table)
library(pxweb)
source("helperFunctions.R")
smaprufa <- read.csv('litidtest.csv', sep=";")
#===================================
# Hj?nav?gslur eftir aldri br??hj?na
#===================================
hjonavigslur_kvk <- getData("http://px.hagstofa.is/pxis/api/v1/is/Ibuar/fjolsk/Giftingar/MAN06101.px",
list("Kyn"="1", "?r"=as.character(c(8:48)), "Aldur"=as.character(c(1:10))))
hjonavigslur_kvk <- removeFirstColumn(hjonavigslur_kvk)
names(hjonavigslur_kvk)[2:ncol(hjonavigslur_kvk)] <-
fixAgeString(names(hjonavigslur_kvk)[2:ncol(hjonavigslur_kvk)], getCorrectString1)
hjonavigslur_kvk <- setUpFinalTable(hjonavigslur_kvk, "Hjonavigslur_kvk")
#===============================
# L?gskilna?ir eftir aldri hj?na
#===============================
logskilnadur_kvk <- getData("http://px.hagstofa.is/pxis/api/v1/is/Ibuar/fjolsk/Skilnadir/MAN06202.px",
list("Kyn"="1", "?r"=as.character(c(10:20)), "Aldur"=as.character(c(1:10))))
logskilnadur_kvk <- removeFirstColumn(logskilnadur_kvk)
names(logskilnadur_kvk)[2:ncol(logskilnadur_kvk)] <-
fixAgeString(names(logskilnadur_kvk)[2:ncol(logskilnadur_kvk)], getCorrectString1)
logskilnadur_kvk <- setUpFinalTable(logskilnadur_kvk, "Logskilnadur_kvk")
#====================================================
# Me?alatvinnutekjur ? a?alstarfi eftir kyni og aldri
#====================================================
##TODO breyta 0-15 ? <15
tekjur_kvk <- getData("http://px.hagstofa.is/pxis/api/v1/is/Samfelag/launogtekjur/3_tekjur/VIN07002.px",
list("Landshlutar"="0", "Aldur"=as.character(c(1:14)),"Kyn"="2", "?r"=c("*")))
tekjur_kvk <- removeFirstColumn(tekjur_kvk)
tekjur_kvk <- transposeTable(tekjur_kvk)
tekjur_kvk[,1] <- removeFirstWords(as.character(tekjur_kvk[,1]))
tekjur_kvk[,1] <- as.numeric(tekjur_kvk[,1])
tekjur_kvk <- setUpFinalTable(tekjur_kvk, "Tekjur_kvk")
#=====================================================================================
# Skuldir, eignir og eiginfj?rsta?a einstaklinga eftir fj?lskylduger?, aldri og b?setu
#=====================================================================================
skuldir <- getData("http://px.hagstofa.is/pxis/api/v1/is/Efnahagur/thjodhagsreikningar/skuldastada_heimili/THJ09000.px",
list("?r"=c("*"),
"Fj?lskylduger?, aldur og b?seta"=as.character(c(5:14)),
"Skuldir, eignir og eiginfj?rsta?a"="8"))
colnames(skuldir) <- c("Date", "Age", "Skuldir")
#==============
# F??ingart??ni
#==============
faeding <- getData("http://px.hagstofa.is/pxis/api/v1/is/Ibuar/Faeddir/faedingar/MAN05201.px",
list("?r"=as.character(c(149:193)),
"Aldur"=c("*")))
faeding <- setUpFinalTable(faeding, "Faedingartidni")
#=================
# Merging the data
#=================
total <- merge(hjonavigslur_kvk, logskilnadur_kvk, by=c("Date", "Age"), all=TRUE)
total <- merge(total, tekjur_kvk, by=c("Date", "Age"), all=TRUE)
total <- merge(total, skuldir, by=c("Date", "Age"), all=TRUE)
total <- merge(total, faeding, by=c("Date", "Age"), all=TRUE)
setwd("~/GitHub/reiknigreind_hv1")
setwd("~/GitHub/reiknigreind_hv1/hv1")
library(shiny)
library(googleVis)
library(data.table)
library(pxweb)
source("helperFunctions.R")
smaprufa <- read.csv('litidtest.csv', sep=";")
#===================================
# Hj?nav?gslur eftir aldri br??hj?na
#===================================
hjonavigslur_kvk <- getData("http://px.hagstofa.is/pxis/api/v1/is/Ibuar/fjolsk/Giftingar/MAN06101.px",
list("Kyn"="1", "?r"=as.character(c(8:48)), "Aldur"=as.character(c(1:10))))
hjonavigslur_kvk <- removeFirstColumn(hjonavigslur_kvk)
names(hjonavigslur_kvk)[2:ncol(hjonavigslur_kvk)] <-
fixAgeString(names(hjonavigslur_kvk)[2:ncol(hjonavigslur_kvk)], getCorrectString1)
hjonavigslur_kvk <- setUpFinalTable(hjonavigslur_kvk, "Hjonavigslur_kvk")
#===============================
# L?gskilna?ir eftir aldri hj?na
#===============================
logskilnadur_kvk <- getData("http://px.hagstofa.is/pxis/api/v1/is/Ibuar/fjolsk/Skilnadir/MAN06202.px",
list("Kyn"="1", "?r"=as.character(c(10:20)), "Aldur"=as.character(c(1:10))))
logskilnadur_kvk <- removeFirstColumn(logskilnadur_kvk)
names(logskilnadur_kvk)[2:ncol(logskilnadur_kvk)] <-
fixAgeString(names(logskilnadur_kvk)[2:ncol(logskilnadur_kvk)], getCorrectString1)
logskilnadur_kvk <- setUpFinalTable(logskilnadur_kvk, "Logskilnadur_kvk")
#====================================================
# Me?alatvinnutekjur ? a?alstarfi eftir kyni og aldri
#====================================================
##TODO breyta 0-15 ? <15
tekjur_kvk <- getData("http://px.hagstofa.is/pxis/api/v1/is/Samfelag/launogtekjur/3_tekjur/VIN07002.px",
list("Landshlutar"="0", "Aldur"=as.character(c(1:14)),"Kyn"="2", "?r"=c("*")))
tekjur_kvk <- removeFirstColumn(tekjur_kvk)
tekjur_kvk <- transposeTable(tekjur_kvk)
tekjur_kvk[,1] <- removeFirstWords(as.character(tekjur_kvk[,1]))
tekjur_kvk[,1] <- as.numeric(tekjur_kvk[,1])
tekjur_kvk <- setUpFinalTable(tekjur_kvk, "Tekjur_kvk")
#=====================================================================================
# Skuldir, eignir og eiginfj?rsta?a einstaklinga eftir fj?lskylduger?, aldri og b?setu
#=====================================================================================
skuldir <- getData("http://px.hagstofa.is/pxis/api/v1/is/Efnahagur/thjodhagsreikningar/skuldastada_heimili/THJ09000.px",
list("?r"=c("*"),
"Fj?lskylduger?, aldur og b?seta"=as.character(c(5:14)),
"Skuldir, eignir og eiginfj?rsta?a"="8"))
colnames(skuldir) <- c("Date", "Age", "Skuldir")
#==============
# F??ingart??ni
#==============
faeding <- getData("http://px.hagstofa.is/pxis/api/v1/is/Ibuar/Faeddir/faedingar/MAN05201.px",
list("?r"=as.character(c(149:193)),
"Aldur"=c("*")))
faeding <- setUpFinalTable(faeding, "Faedingartidni")
#=================
# Merging the data
#=================
total <- merge(hjonavigslur_kvk, logskilnadur_kvk, by=c("Date", "Age"), all=TRUE)
total <- merge(total, tekjur_kvk, by=c("Date", "Age"), all=TRUE)
total <- merge(total, skuldir, by=c("Date", "Age"), all=TRUE)
total <- merge(total, faeding, by=c("Date", "Age"), all=TRUE)
shiny::runApp()
install.packages("shinyapps")
install.packages('devtools')
devtools::install_github('rstudio/shinyapps')
shinyapps::setAccountInfo(name='davidsteinar', token='F5F64A2B927AA11E9D72C03F7050D9AB', secret='GkcV3nahEnR/vMyE1vhbtfaR816yXZk9w5ki+j/z')
